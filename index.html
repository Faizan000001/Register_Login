<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login and Register</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');


      /* General Body Styling  */
     body, html {
         margin: 0;
         padding: 0;
         font-family: "poppin", sans-serif;
         background-color: #f0f2f5;
         width: 100%;
         height: 100vh;
         display: flex;
         justify-content: center;
         align-items: center;
         overflow-y: scroll;
         overflow-x: hidden;
       }
       
       header {
         width: 100%;
         padding: 40px;
         background-color: #1877F2; 
         display: flex;
         justify-content: end;
         align-items: center;
         box-sizing: border-box;
         position: relative;
         top: -250px;
       }
       nav{
         display: flex;
         align-items: center;
         gap: 1rem;
         margin-right: 145px;
       }
       #para1{
         position: absolute;
         top: 5px;
         color: white;
       }
       #para2{
         position: absolute;
         top: 5px;
         right: 350px;
         color: white;
       } 
       nav a{
         position: absolute;
         top: 70px;
         right: 286px;
         color: rgb(159, 190, 252);
         text-decoration: none;
       } 
       nav a:hover{
         color: rgb(105, 141, 213);
       }
       #login-btn{
         background-color: #1546ae;
         border: none;
         padding: 5px;
         color: white;
       }
       #login-btn:hover{
         background-color: #1d408b;
       }
       nav input{
         padding: 5px;
       }
       .body-div{
         position: absolute;
         margin-top: 85px;
         margin-left: 470px;
         
       }
       div input{
         padding: 5px;
         margin: 2px;
       }
       .input{
         width: 26em;
       }
       .selection{
         padding: 5px;
       }
      .radioinput-div{
       display: inline;
      }
     .radioinput-div{
       position: relative;
     }
     .paragraph{
       position: absolute;
       right: 7px;
       top: 18rem;
       color:  #1877F2;
     }
     span{
       color: #1877F2;
     }
     #register-btn{
       padding: 8px;
       width:12rem;
       font-weight: bold;
       color: white;
       font-size: 1.2rem;
       background-color: rgb(19, 168, 19);
       border: none;
       border-radius: 5px;
     }
     a{
       text-decoration: none;
       color: #1877F2;
     }
     
     
     footer {
       font-family: Arial, sans-serif;
       font-size: 14px;
       color: #666;
       text-align: center;
       padding: 10px;
       border-top: 1px solid #ccc;
       position: absolute;
       bottom: -15px;
       width: 100%;
       background: white;
       height: 0rem;
     }
     
     
     .footer-links {
       display: flex;
       flex-wrap: wrap;
       justify-content: center;
       gap: 15px;
       margin: 10px;
     }
     
     .footer-links a {
       color: #666;
       text-decoration: none;
     }
     
     .footer-links a:hover {
       text-decoration: underline;
     }
     #location-links{
       position: absolute;
       right: 11rem;
     }
     #ads-links{
       position: absolute;
       bottom: -8rem;
       left: 17rem;
     } 
     @media (max-width: 480px) {
       body, html {
           flex-direction: column;
       }
     
       header {
           display: flex;
           top: -45px;
           /* padding: 20px; */
           flex-direction: column;
           align-items: flex-start;
           position: absolute;
       }
     
       #para1, #para2 {
           position: static;
           margin: 5px 0;
       }
     
       nav {
           flex-direction: column;
           margin-right: 0;
           gap: 0.5rem;
           align-items: flex-start;
           width: 100%;
       }
     
       nav a {
           position: static;
           padding: 5px 0;
       }
     
       nav input, #login-btn {
           width: 100%;
       }
     
       .body-div {
           position: absolute;
           margin: 20px auto;
           padding: 10px;
           width: 90%;
           text-align: center;
           top: 200px;
       }
     
       .input {
           width: 100%;
       }
     
       .paragraph {
           position: static;
           margin-top: 20px;
       }
     
       #register-btn {
           width: 100%;
       }
     
       .footer-links {
           flex-direction: column;
           gap: 5px;
           text-align: center;
       }
     
       footer {
           position: absolute;
           padding: 5px;
           font-size: 12px;
           bottom: -250px;
       }
     
       #location-links, #ads-links {
           position: static;
           text-align: center;
       }
     }
     
    </style>
</head>
<body>

<header>
    <nav>
        <!-- Login Form -->
        <form action="{% url 'index' %}" method="POST" onsubmit="handleSubmit(event)">
            {% csrf_token %}
            <p id="para1">Email</p>
            <input type="email" placeholder="Email" name="email" id="login-email">

            <p id="para2">Password</p>
            <input type="password" placeholder="Password" name="password" id="login-password">
            <a href="#">Forgotten account?</a>
            
            <input type="hidden" name="action" value="login">
            <button type="submit" id="login-btn">Log In</button>
        </form> 
    </nav>
</header>

<div class="body-div">
    <h1>Create an account</h1>
    <p>It's free and always will be.</p>

    <!-- Registration Form -->
    <form id="register-form" action="{% url 'index' %}" method="POST" onsubmit="handleSubmit(event)">
        {% csrf_token %}
        <input type="text" placeholder="First Name" name="first_name" id="name-input">
        <input type="text" placeholder="Last Name" name="last_name" id="name-input"><br>
        <input type="email" placeholder="Email" name="email" class="input" id="email-input"><br>
        <input type="password" placeholder="Password" name="password" class="input" id="password-input"><br><br>

        <label>Birthday</label><br><br>
        <select id="date" class="selection" name="date">
            <option value="">Day</option>
            {% for day in days %}
                <option value="{{ day }}">{{ day }}</option>
            {% endfor %}
        </select>
        <select id="month" class="selection" name="month">
            <option value="">Month</option>
            {% for month in months %}
                <option value="{{ month }}">{{ month }}</option>
            {% endfor %}
        </select>
        <select id="year" class="selection" name="year">
            <option value="">Year</option>
            {% for year in years %}
                <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
        </select><br><br>
        <div class="text"><p class="paragraph">Why  do I need to provide my <br> date of birth?</p> </div>

        <label>
            <input type="radio" name="gender" id="gender-female" value="female"> Female
        </label>
        <label>
            <input type="radio" name="gender" id="gender-male" value="male"> Male
        </label><br><br>
        <p>By clicking Create an account.You agree to our <span>Term</span> and that <br> you have read our <span>Data Policy.</span>Including our <span>Cookie Use.</span></p>

        <input type="hidden" name="action" value="register">
        <button type="submit" id="register-btn">Create Account</button>
        <p><a href="#">Create a page</a> for celebrity, brand or business.</p>
    </form>
</div>
<footer>
  <div class="footer-links" id="language-links">
    <a href="#">English (UK)</a>
    <a href="#">हिन्दी</a>
    <a href="#">ਪੰਜਾਬੀ</a>
    <a href="#">اردو</a>
    <a href="#">தமிழ்</a>
    <a href="#">বাংলা</a>
    <a href="#">मराठी</a>
    <a href="#">తెలుగు</a>
    <a href="#">ગુજરાતી</a>
    <a href="#">ಕನ್ನಡ</a>
    <a href="#">മലയാളം</a>
  </div>
  
  <div class="footer-links" id="sign-links">
    <a href="#">Sign Up</a>
    <a href="#">Log In</a>
    <a href="#">Messenger</a>
    <a href="#">DotNetTec</a>
    <a href="#">Mobile</a><br>
    <a href="#">Find Friends</a>
    <a href="#">Badges</a>
    <a href="#">People</a>
    <a href="#">Pages</a>
    <a href="#">Places</a>
    <a href="#">Games</a>
  </div>

  <div class="footer-links" id="location-links">
    <a href="#">Locations</a>
    <a href="#">Celebrities</a>
    <a href="#">Groups</a>
    <a href="#">Moments</a>
    <a href="#">About</a><br>
    <a href="#">Create Advert</a>
    <a href="#">Create Page</a>
    <a href="#">Developers</a>
    <a href="#">Careers</a>
    <a href="#">Privacy</a>
    <a href="#">Cookies</a> 
  </div>
  <div class="footer-links" id="ads-links">
    <a href="#">Ads</a>
    <a href="#">Terms</a>
    <a href="#">Help</a>
  </div>
</footer>
<script>
  // Handle the form submission
  function handleSubmit(event) {
      event.preventDefault();
      
      let form = event.target;
      let formData = new FormData(form);

      // Send the form data to the backend
      fetch(window.location.href, {
          method: 'POST',
          body: formData
      })
      .then(response => response.json())
      .then(data => {
          alert(data.message);
          if (data.status === 'success' && data.reset_form) {
              resetForm(form);  // Call the reset function to clear all fields
          }
      })
      .catch(error => console.log('Error:', error));
  }

  // Reset form function
  function resetForm(form) {
      form.reset();  // Reset basic form fields like text, email, password

      // Reset custom selects (if any)
      let selects = form.querySelectorAll('select');
      selects.forEach(select => {
          select.selectedIndex = 0; // Reset the select element to its default state
      });

      // Reset radio buttons (if any)
      let radios = form.querySelectorAll('input[type="radio"]');
      radios.forEach(radio => {
          radio.checked = false; // Uncheck the radio buttons
      });
  }
</script>

</body>
</html>
